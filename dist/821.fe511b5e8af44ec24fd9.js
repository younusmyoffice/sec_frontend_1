"use strict";(self.webpackChunksec_frontend=self.webpackChunksec_frontend||[]).push([[821],{6821:(e,t,n)=>{n.d(t,{A:()=>b});var l=n(96540),a=(n(97320),n(47767)),i=n(10609),r=n(69067),o=n(14073),c=n(844),s=n(55044),m=n(97190),d=n(73896),p=n(45975),u=n(56889),f=n(78585),E=n(29162),v=n(16221),g=n(57741),h=n(58407);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,l)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach(function(t){y(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function y(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var l=n.call(e,t||"default");if("object"!=typeof l)return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const b=e=>{var t,n,A,y,b,w,_,S,j,O,N,C;let{data:R={},label:k,AcceptOrRejectButtonClicked:P,accAndRejClicked:W}=e;const[z,I]=l.useState(null),[D,T]=(0,l.useState)(""),[F,q]=(0,l.useState)(!1),[Q,B]=(0,l.useState)(!1),[L,H]=(0,l.useState)([]),[J,G]=(0,l.useState)(!0),[M,V]=(0,l.useState)(""),[Y,Z]=(0,l.useState)(!1),K=Boolean(z),[U,X]=(0,l.useState)(!1),[$,ee]=(0,l.useState)(!1),[te,ne]=(0,l.useState)(!1),le=["I have a schedule clash","I am not available at the schedule","I have some emergency","I am not well","Other Emergencies"],[ae,ie]=l.useState(le[0]),[re,oe]=(0,l.useState)({appointment_id:null,patient_id:null,doctor_id:null,status:null}),[ce,se]=(0,l.useState)(!1),[me,de]=(0,l.useState)({appointment_id:null==R?void 0:R.appointment_id,patient_id:null==R?void 0:R.patient_id,doctor_id:null==R?void 0:R.doctor_id,reason:null,status:"in_progress",option:"reject"}),[pe,ue]=(0,l.useState)(!1),[fe,Ee]=(0,l.useState)({appointment_id:null,patient_id:null,doctor_id:null,status:"in_progress",option:"accept"});(0,l.useEffect)(()=>{Ee({appointment_id:null==R?void 0:R.appointment_id,patient_id:null==R?void 0:R.patient_id,doctor_id:null==R?void 0:R.doctor_id,status:"in_progress",option:"accept"})},[]);const[ve,ge]=(0,l.useState)(!1);(0,l.useEffect)(()=>{ve&&(async()=>{try{await g.A.post("/sec/hcf/clinicAppointmentReject",JSON.stringify(me)),V("Appointment Booking Rejected"),T("success"),Z(!0),P(!W),ge(!1),ne(!1)}catch(e){ge(!1),V("error during rejecting  appointment says ",e.response),T("error"),Z(!0)}})()},[ve]);(0,a.Zp)();const he=null==R?void 0:R.patient_id,Ae=null==R?void 0:R.appointment_id;(0,l.useEffect)(()=>{(async(e,t)=>{G(!0);try{var n;const l=await g.A.get("sec/hcf/".concat(e,"/").concat(t,"/ClinicAppointmentPatient")),a=(null==l||null===(n=l.data)||void 0===n?void 0:n.response)||[];H(a)}catch(e){}finally{G(!1)}})(he,Ae)},[]);const xe=Array.isArray(L)&&(null===(t=L[0])||void 0===t?void 0:t.report_path),ye=Array.isArray(L)&&(null===(n=L[0])||void 0===n?void 0:n.report_name),be=xe&&(xe.startsWith("http")?xe:"/assets/".concat(xe));return l.createElement(l.Fragment,null,l.createElement("div",{className:"Request-main-container"},l.createElement(h.A,{type:D,message:M,isOpen:Y}),l.createElement("div",{className:"Request-inner-container"},l.createElement("div",{style:{width:"3.13981rem",height:"height: 4.71831rem"}},l.createElement("div",{className:"RequestimageContainer"},l.createElement(r.A,{className:"image-container",component:"img",sx:{width:"100%",height:"100%"},src:(null==R?void 0:R.profile_picture)||f.A,alt:"Profile Image"}))),l.createElement("div",{style:{marginLeft:"2%"}},l.createElement("div",{style:{display:"flex",justifyContent:"flex-start"}},l.createElement(o.A,{sx:{color:"#313033",fontFamily:"Poppins",fontSize:"1.125rem",fontStyle:"normal",fontWeight:"400",lineHeight:"1.75rem"}},null!=R&&R.first_name||null!=R&&R.middle_name||null!=R&&R.last_name?"".concat((null==R?void 0:R.first_name)||""," ").concat((null==R?void 0:R.middle_name)||""," ").concat((null==R?void 0:R.last_name)||"").trim():null)),l.createElement("div",{className:"card-details-container"},l.createElement(o.A,{sx:{color:"#787579",fontFamily:"Poppins",fontSize:"0.75rem",fontStyle:"normal",fontWeight:"400",lineHeight:"1.125rem",letterSpacing:"0.006rem",width:"17rem"}},"Schedule | ",(0,v.Yq)(null==R?void 0:R.appointment_date)," | ",null==R?void 0:R.attachments)))),l.createElement("div",{className:"request-button-container"},l.createElement("div",{style:{display:"flex",alignItems:"center",marginRight:"2%"}},k?l.createElement(E.A,{buttonCss:{display:"flex",width:"9.3125rem",height:"2.5rem",padding:"0.5rem 1rem",justifyContent:"center",alignItems:"center",gap:"0.5rem",flexShrink:"0",borderRadius:"6.25rem"},label:k,isTransaprent:!1,handleClick:async()=>{se(!ce);try{await g.A.post("/sec/hcf/clinicAppointmentAccept",JSON.stringify(fe),{Accept:"Application/json"});V("Appointment Confirmed"),T("success"),Z(!0),P(!W)}catch(e){V("error during booking appointment"),T("error"),Z(!0)}}}):null),l.createElement("div",{style:{display:"flex",alignItems:"center"}},k?l.createElement(s.A,{sx:{cursor:"pointer",color:"#4f4d4d",border:"1px solid #E6E1E5",borderRadius:"50px"},onClick:e=>{I(e.currentTarget),X(!1),ee(!1)}}):null,l.createElement(m.A,{id:"basic-menu",anchorEl:z,open:K,onClose:()=>{I(null)},MenuListProps:{"aria-labelledby":"basic-button"}},l.createElement(d.A,{onClick:()=>ne(!te)},"Reject"),l.createElement(d.A,{onClick:()=>q(!F)},"patient Details"),l.createElement(u.A,{isOpen:te,title:"Reject Appointment Request",conditionOpen:ne,footer:l.createElement(l.Fragment,null,l.createElement(r.A,{sx:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}}))},l.createElement(r.A,{sx:{textAlign:"center"}},l.createElement(o.A,null,"Are you sure. you want to cancel the appointment")),l.createElement("div",{style:{marginTop:"4%"}},l.createElement(l.Fragment,null,l.createElement(r.A,{sx:{marginTop:"5%",display:"flex",flexWrap:"wrap",flexDirection:"column"}},l.createElement(o.A,{sx:{fontWeight:"600",fontSize:"16px",lineHeight:"24px"}},"Reason For Rejection"),l.createElement(p.A,{label:"",handleChange:e=>{let{target:t}=e;ie(t.value),de(x(x({},me),{},{reason:t.value}))},value:ae,items:le}),l.createElement(r.A,{sx:{marginTop:"5%",width:"100%"}},l.createElement(o.A,null,"Add Note"),l.createElement(c.A,{style:{width:"100%",padding:"3%"},placeholder:" Note: Please leave the review here.",multiline:!0,rows:3,maxRows:4})),l.createElement(r.A,{sx:{marginTop:"6%",display:"flex",justifyContent:"center"}},l.createElement(E.A,{handleClick:()=>ge(!0),label:"Reject Appointment"})))))),l.createElement(u.A,{style:{display:"flex"},isOpen:F,conditionOpen:q,title:l.createElement(r.A,{sx:{border:"1px solid #E6E1E5",borderTop:"1px",borderRight:"1px",borderLeft:"1px",width:"570px",height:"82px",display:"flex",justifycontent:"flexstart"}},l.createElement("h2",{style:{textAlign:"left",fontfamily:"poppins",fontSize:"20px",fontstyle:"normal",fontweight:"500",lineheight:"30px",width:"100%",height:"30px"}},"Patient Details"))},l.createElement("div",null,"Patient Details"),l.createElement("div",{className:"textfield-cont"},l.createElement("div",{className:"name-email"},l.createElement(o.A,{sx:{color:"#787579",fontSize:"0.875rem",fontWeight:400}},"Name"),l.createElement(o.A,null,"".concat(null===(A=L[0])||void 0===A?void 0:A.first_name," ").concat(null===(y=L[0])||void 0===y?void 0:y.last_name))),l.createElement("div",{className:"name-email"},l.createElement(o.A,{sx:{color:"#787579",fontSize:"0.875rem",fontWeight:400}},"Age"),l.createElement(o.A,null,null===(b=L[0])||void 0===b?void 0:b.age)),l.createElement("div",{className:"name-email"},l.createElement(o.A,{sx:{color:"#787579",fontSize:"0.875rem",fontWeight:400}},"Gender"),l.createElement(o.A,null,null===(w=L[0])||void 0===w?void 0:w.gender))),l.createElement("div",null,l.createElement("div",null,"Attached files"),l.createElement("div",{className:"textfield-cont"},l.createElement("div",{className:"name-email"},l.createElement(o.A,{sx:{color:"#787579",fontSize:"0.875rem",fontWeight:400}},"File name"),l.createElement(o.A,null,null===(_=L[0])||void 0===_?void 0:_.attachments)),l.createElement("div",{className:"name-email"},l.createElement(o.A,{sx:{color:"#E72B4A",cursor:"pointer"},onClick:()=>{B(!0)}},"view")),l.createElement("div",{className:"name-email"},l.createElement(o.A,{sx:{color:"#E72B4A",display:"flex",alignItems:"center",cursor:"pointer"},onClick:()=>{const e=document.createElement("a");e.target="_blank",e.href=xe,e.download=ye,e.click()}},l.createElement(i.A,{sx:{marginRight:"5px"}})," ","Download"))),l.createElement("div",null,"Questions Details"),l.createElement("div",{className:"textfield-cont"},l.createElement("div",{className:"name-email"},l.createElement(o.A,{sx:{color:"#787579",fontSize:"0.875rem",fontWeight:400}},"Question 1"),l.createElement(o.A,null,(null===(S=L[0])||void 0===S?void 0:S.answer_1)||"answer")),l.createElement("div",{className:"name-email"},l.createElement(o.A,{sx:{color:"#787579",fontSize:"0.875rem",fontWeight:400}},"Question 2"),l.createElement(o.A,null,(null===(j=L[0])||void 0===j?void 0:j.answer_2)||"answer")),l.createElement("div",{className:"name-email"},l.createElement(o.A,{sx:{color:"#787579",fontSize:"0.875rem",fontWeight:400}},"Question 3"),l.createElement(o.A,null,(null===(O=L[0])||void 0===O?void 0:O.answer_3)||"answer"))),l.createElement("div",{className:"textfield-conte"},l.createElement("div",{className:"name-email"},l.createElement(o.A,{sx:{color:"#787579",fontSize:"0.875rem",fontWeight:400}},"Question 4"),l.createElement(o.A,null,(null===(N=L[0])||void 0===N?void 0:N.answer_4)||"answer")),l.createElement("div",{className:"name-email"},l.createElement(o.A,{sx:{color:"#787579",fontSize:"0.875rem",fontWeight:400}},"Question 5"),l.createElement(o.A,null,(null===(C=L[0])||void 0===C?void 0:C.answer_5)||"answer"))),l.createElement(u.A,{isOpen:Q,conditionOpen:B},l.createElement(r.A,{sx:{width:"870px",border:"1px solid #E6E1E5",borderTop:"1px",borderRight:"1px",borderLeft:"1px",height:"80vh",padding:"20px",backgroundColor:"white"}},l.createElement(o.A,{variant:"h6"},"Report"),l.createElement("iframe",{src:be,width:"100%",height:"100%",title:"Report Viewer",style:{border:"1px solid"}}))))))))))}},78585:(e,t,n)=>{n.d(t,{A:()=>l});n(96540);const l=n.p+"1cabdb3ae29c5524313e1580b423d0e4.svg"},97320:(e,t,n)=>{e.exports=n.p+"images/profileImage..png"}}]);
//# sourceMappingURL=821.fe511b5e8af44ec24fd9.js.map