"use strict";(self.webpackChunksec_frontend=self.webpackChunksec_frontend||[]).push([[193],{72193:(e,t,n)=>{n.r(t),n.d(t,{default:()=>S});var a=n(69067),i=n(32325),l=n(69279),r=n(96540),o=n(84976),c=n(14073),s=n(844),m=n(10609),d=n(55044),p=n(97190),u=n(73896),f=(n(97320),n(56889)),E=n(45975),h=n(58407),g=n(29162),v=n(57741);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){A(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function A(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const b=e=>{var t,n,i,l,o,y,A,b,w,S,_,j;let{data:C={},Joinlabel:N,onClickJoinHandler:O,StatusLabel:R,AcceptOrRejectButtonClicked:k,accAndRejClicked:P}=e;const[D,W]=r.useState(null),z=Boolean(D),[I,T]=(0,r.useState)(""),[B,q]=(0,r.useState)(""),[F,L]=(0,r.useState)(!1),[J,Q]=(0,r.useState)(!1),[H,G]=(0,r.useState)(!1),[M,U]=(0,r.useState)([]),[V,K]=(0,r.useState)(!0),[X,Y]=(0,r.useState)(!1),[Z,$]=(0,r.useState)(!1),[ee,te]=(0,r.useState)({appointment_id:null,doctor_id:null,option:"accept"}),[ne,ae]=(0,r.useState)({appointment_id:null==C?void 0:C.appointment_id,patient_id:null==C?void 0:C.patient_id,doctor_id:null==C?void 0:C.doctor_id,reason:"",status:"in_progress",option:"reject"}),[ie,le]=(0,r.useState)(!1),[re,oe]=(0,r.useState)(!1),ce=["I have a schedule clash","I am not available at the schedule","I have some other plans","Reason4","Reason5"],[se,me]=r.useState(ce[0]);(0,r.useEffect)(()=>{te({appointment_id:null==C?void 0:C.appointment_id,doctor_id:null==C?void 0:C.doctor_id,option:"join"})},[]);const[de,pe]=(0,r.useState)(!1);(0,r.useEffect)(()=>{de&&(async()=>{try{await v.A.post("/sec/hcf/clinicAppointmentReject",JSON.stringify(ne)),q("upcoming appointment Rejected"),T("success"),L(!0),k(!P),pe(!1)}catch(e){pe(!1),q("error during rejecting  appointment says ",e.response),T("error"),L(!0)}})()},[de]);const ue=null==C?void 0:C.patient_id,fe=null==C?void 0:C.appointment_id;(0,r.useEffect)(()=>{(async(e,t)=>{K(!0);try{var n;const a=await v.A.get("sec/hcf/".concat(e,"/").concat(t,"/ClinicAppointmentPatient")),i=(null==a||null===(n=a.data)||void 0===n?void 0:n.response)||[];U(i)}catch(e){}finally{K(!1)}})(ue,fe)},[]);const Ee=Array.isArray(M)&&(null===(t=M[0])||void 0===t?void 0:t.report_path),he=Array.isArray(M)&&(null===(n=M[0])||void 0===n?void 0:n.report_name),ge=Ee&&(Ee.startsWith("http")?Ee:"/assets/".concat(Ee));return r.createElement(r.Fragment,null,r.createElement("div",{className:"Request-main-container"},r.createElement(h.A,{type:I,message:B,isOpen:F}),r.createElement("div",{className:"Request-inner-container"},r.createElement("div",{style:{width:"3.13981rem",height:"height: 4.71831rem"}},r.createElement("div",{className:"RequestimageContainer"},r.createElement(a.A,{className:"image-container",component:"img",sx:{width:"100%",height:"100%"},src:null==C?void 0:C.profile_picture,alt:"Profile Image"}))),r.createElement("div",{style:{marginLeft:"2%"}},r.createElement("div",{style:{display:"flex",justifyContent:"flex-start"}},r.createElement(c.A,{sx:{color:"#313033",fontFamily:"Poppins",fontSize:"1.125rem",fontStyle:"normal",fontWeight:"400",lineHeight:"1.75rem"}},null!=C&&C.first_name||null!=C&&C.middle_name||null!=C&&C.last_name?"".concat((null==C?void 0:C.first_name)||""," ").concat((null==C?void 0:C.middle_name)||""," ").concat((null==C?void 0:C.last_name)||"").trim():null),r.createElement(a.A,{ml:2,px:1.5,py:.5,border:"1px solid #E72B4A",borderRadius:"16px",color:"#E72B4A",fontSize:"0.875rem",fontWeight:500},R)),r.createElement("div",{className:"card-details-container"},r.createElement(c.A,{sx:{color:"#787579",fontFamily:"Poppins",fontSize:"0.75rem",fontStyle:"normal",fontWeight:"400",paddingTop:"8px",lineHeight:"1.125rem",letterSpacing:"0.006rem",width:"17rem"}},"Schedule | ",(ve=null==C?void 0:C.appointment_date,new Date(ve).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}).replace(",","")),"| ",null==C?void 0:C.attachments),r.createElement(a.A,{component:"a",sx:{color:"#E72B4A",fontFamily:"Poppins",fontSize:"0.75rem",fontStyle:"normal",fontWeight:"400",lineHeight:"1.125rem",letterSpacing:"0.006rem",paddingTop:"8px"}},"View")))),r.createElement("div",{className:"request-button-container"},r.createElement("div",{style:{display:"flex",alignItems:"center",marginRight:"2%"}},r.createElement(g.A,{buttonCss:{display:"flex",width:"9.3125rem",height:"2.5rem",padding:"0.5rem 1rem",justifyContent:"center",alignItems:"center",gap:"0.5rem",flexShrink:"0",borderRadius:"6.25rem"},label:N,isTransaprent:!1,handleClick:async()=>{$(!Z);try{await v.A.post("/sec/hcf/joinAppointmentClinic",JSON.stringify(ee),{Accept:"Application/json"});q("joined Confirmed"),T("success"),L(!0),k(!P)}catch(e){q("error during joining appointment"),T("error"),L(!0)}}})),r.createElement("div",{style:{display:"flex",alignItems:"center"}},r.createElement(d.A,{sx:{cursor:"pointer",color:"#4f4d4d",border:"1px solid #E6E1E5",borderRadius:"50px"},onClick:e=>{W(e.currentTarget),le(!1),oe(!1)}}),r.createElement(p.A,{id:"basic-menu",anchorEl:D,open:z,onClose:()=>{W(null)},MenuListProps:{"aria-labelledby":"basic-button"}},r.createElement(u.A,{onClick:()=>Q(!J)},"Reject"),r.createElement(u.A,{onClick:()=>G(!H)},"patient Details"),r.createElement(f.A,{isOpen:J,title:"Reject Appointment Request",conditionOpen:Q,footer:r.createElement(r.Fragment,null,r.createElement(a.A,{sx:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}}))},r.createElement(a.A,{sx:{textAlign:"center"}},r.createElement(c.A,null,"Are you sure. you want to cancel the appointment")),r.createElement("div",{style:{marginTop:"4%"}},r.createElement(r.Fragment,null,r.createElement(a.A,{sx:{marginTop:"5%",display:"flex",flexWrap:"wrap",flexDirection:"column"}},r.createElement(c.A,{sx:{fontWeight:"600",fontSize:"16px",lineHeight:"24px"}},"Reason For Rejection"),r.createElement(E.A,{label:"",handleChange:e=>{let{target:t}=e;me(t.value),ae(x(x({},ne),{},{reason:t.value}))},value:se,items:ce}),r.createElement(a.A,{sx:{marginTop:"5%",width:"100%"}},r.createElement(c.A,null,"Add Note"),r.createElement(s.A,{style:{width:"100%",padding:"3%"},placeholder:"Reason for rejecting the appointment",multiline:!0,rows:3,maxRows:4})),r.createElement(a.A,{sx:{marginTop:"6%",display:"flex",justifyContent:"center"}},r.createElement(g.A,{handleClick:()=>pe(!0),label:"Reject Appoitment"})))))),r.createElement(f.A,{style:{display:"flex"},isOpen:H,conditionOpen:G,title:r.createElement(a.A,{sx:{border:"1px solid #E6E1E5",borderTop:"1px",borderRight:"1px",borderLeft:"1px",width:"570px",height:"82px",display:"flex",justifycontent:"flexstart"}},r.createElement("h2",{style:{textAlign:"left",fontfamily:"poppins",fontSize:"20px",fontstyle:"normal",fontweight:"500",lineheight:"30px",width:"100%",height:"30px"}},"Patient Details"))},r.createElement("div",null,"Patient Details"),r.createElement("div",{className:"textfield-cont"},r.createElement("div",{className:"name-email"},r.createElement(c.A,{sx:{color:"#787579",fontSize:"0.875rem",fontWeight:400}},"Name"),r.createElement(c.A,null,"".concat(null===(i=M[0])||void 0===i?void 0:i.first_name," ").concat(null===(l=M[0])||void 0===l?void 0:l.last_name))),r.createElement("div",{className:"name-email"},r.createElement(c.A,{sx:{color:"#787579",fontSize:"0.875rem",fontWeight:400}},"Age"),r.createElement(c.A,null,null===(o=M[0])||void 0===o?void 0:o.age)),r.createElement("div",{className:"name-email"},r.createElement(c.A,{sx:{color:"#787579",fontSize:"0.875rem",fontWeight:400}},"Gender"),r.createElement(c.A,null,null===(y=M[0])||void 0===y?void 0:y.gender))),r.createElement("div",null,r.createElement("div",null,"Attached files"),r.createElement("div",{className:"textfield-cont"},r.createElement("div",{className:"name-email"},r.createElement(c.A,{sx:{color:"#787579",fontSize:"0.875rem",fontWeight:400}},"File name"),r.createElement(c.A,null,null===(A=M[0])||void 0===A?void 0:A.attachments)),r.createElement("div",{className:"name-email"},r.createElement(c.A,{sx:{color:"#E72B4A",cursor:"pointer"},onClick:()=>{Y(!0)}},"view")),r.createElement("div",{className:"name-email"},r.createElement(c.A,{sx:{color:"#E72B4A",display:"flex",alignItems:"center",cursor:"pointer"},onClick:()=>{const e=document.createElement("a");e.target="_blank",e.href=Ee,e.download=he,e.click()}},r.createElement(m.A,{sx:{marginRight:"5px"}})," ","Download"))),r.createElement("div",null,"Questions Details"),r.createElement("div",{className:"textfield-cont"},r.createElement("div",{className:"name-email"},r.createElement(c.A,{sx:{color:"#787579",fontSize:"0.875rem",fontWeight:400}},"Question 1"),r.createElement(c.A,null,(null===(b=M[0])||void 0===b?void 0:b.answer_1)||"answer")),r.createElement("div",{className:"name-email"},r.createElement(c.A,{sx:{color:"#787579",fontSize:"0.875rem",fontWeight:400}},"Question 2"),r.createElement(c.A,null,(null===(w=M[0])||void 0===w?void 0:w.answer_2)||"answer")),r.createElement("div",{className:"name-email"},r.createElement(c.A,{sx:{color:"#787579",fontSize:"0.875rem",fontWeight:400}},"Question 3"),r.createElement(c.A,null,(null===(S=M[0])||void 0===S?void 0:S.answer_3)||"answer"))),r.createElement("div",{className:"textfield-conte"},r.createElement("div",{className:"name-email"},r.createElement(c.A,{sx:{color:"#787579",fontSize:"0.875rem",fontWeight:400}},"Question 4"),r.createElement(c.A,null,(null===(_=M[0])||void 0===_?void 0:_.answer_4)||"answer")),r.createElement("div",{className:"name-email"},r.createElement(c.A,{sx:{color:"#787579",fontSize:"0.875rem",fontWeight:400}},"Question 5"),r.createElement(c.A,null,(null===(j=M[0])||void 0===j?void 0:j.answer_5)||"answer"))),r.createElement(f.A,{isOpen:X,conditionOpen:Y},r.createElement(a.A,{sx:{width:"870px",border:"1px solid #E6E1E5",borderTop:"1px",borderRight:"1px",borderLeft:"1px",height:"80vh",padding:"20px",backgroundColor:"white"}},r.createElement(c.A,{variant:"h6"},"Report"),r.createElement("iframe",{src:ge,width:"100%",height:"100%",title:"Report Viewer",style:{border:"1px solid"}}))))))))));var ve};var w=n(85586);const S=()=>{(0,r.useEffect)(()=>{localStorage.setItem("activeComponent","myappointment"),localStorage.setItem("path","clinicupcoming"),document.getElementById("location-search-container").style.display="none"},[]);const[e,t]=(0,r.useState)([]),[n,c]=(0,r.useState)(!0),[s,m]=(0,r.useState)(1),d=localStorage.getItem("clinic_suid");(0,r.useEffect)(()=>{d&&(async()=>{c(!0);try{var e;const n=await v.A.get("sec/hcf/".concat(d,"/").concat("booked","/clinicAppointmentUpcoming"));t((null==n||null===(e=n.data)||void 0===e?void 0:e.response)||[])}catch(e){}finally{c(!1)}})()},[d]);const p=Math.ceil(e.length/5),u=e.slice(5*(s-1),5*s);return r.createElement("div",{className:"requestcontainer",style:{display:"flex",flexWrap:"wrap",width:"98%"}},r.createElement("nav",{className:"NavBar-Container-Appoinement"},r.createElement(o.k2,{to:"/clinicDashboard/clinicmyappointment/clinicrequest"},"Requests"),r.createElement(o.k2,{to:"/clinicDashboard/clinicmyappointment/clinicupcoming"},"Upcoming"),r.createElement(o.k2,{to:"/clinicDashboard/clinicmyappointment/cliniccompleted"},"Completed"),r.createElement(o.k2,{to:"/clinicDashboard/clinicmyappointment/cliniccancelled"},"Cancelled"),r.createElement(o.k2,{to:"/clinicDashboard/clinicmyappointment/clinicchats"},"Chats")),r.createElement(a.A,{component:"div",sx:{position:"relative",top:"4em",width:"100%",display:"flex",height:"100%"}},r.createElement(a.A,{sx:{width:"100%",height:"100%",border:"1px solid #E6E1E5",padding:"1rem",display:"flex",flexDirection:"column",alignItems:"center"}},n?Array.from({length:5}).map((e,t)=>r.createElement(i.A,{key:t,variant:"rectangular",width:"100%",height:100,sx:{marginBottom:"1rem",borderRadius:"8px"}})):0===e.length?r.createElement(w.A,{text_one:"No Appointment"}):u.map((e,t)=>r.createElement(b,{key:t,data:e,Joinlabel:"Join",StatusLabel:e.plan_name})),!n&&e.length>0&&r.createElement(l.A,{count:p,page:s,onChange:(e,t)=>m(t),color:"primary",sx:{marginTop:"1rem"}}))))}},97320:(e,t,n)=>{e.exports=n.p+"images/profileImage..png"}}]);
//# sourceMappingURL=193.fe511b5e8af44ec24fd9.js.map