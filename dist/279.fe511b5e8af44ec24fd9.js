"use strict";(self.webpackChunksec_frontend=self.webpackChunksec_frontend||[]).push([[279],{38279:(e,t,a)=>{a.r(t),a.d(t,{default:()=>W});var n=a(96540),r=a(14073),i=a(11641),o=a(69067),l=a(32325),s=a(844),c=a(3561),d=a(17809),m=a(47767),g=(a(39057),a(16988)),u=a(81740),p=a(52004),f=a(58407),v=a(5556),b=a.n(v),h=a(81385),_=a(82022),y=a(71162),E=a(71543),w=a(72297),x=a(47027),k=a(70765),N=a(34337);const A=["name","specialty","profileImage","onEditClick","className","showEditButton","rating","reviewCount","location","phone","email","experience","variant"];function O(){return O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},O.apply(null,arguments)}const S=e=>{let{name:t="Dr. John Doe",specialty:a="General Practitioner",profileImage:i=null,onEditClick:l=()=>{},className:s="",showEditButton:c=!0,rating:d=4.5,reviewCount:m=128,location:u="New York, NY",phone:p="+1 (555) 123-4567",email:f="doctor@example.com",experience:v="10+ years",variant:b="default"}=e,S=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,A);return n.createElement(o.A,O({className:"doctor-profile-card doctor-profile-card--".concat(b," ").concat(s)},S),n.createElement("div",{className:"profile-content"},n.createElement("div",{className:"profile-header"},n.createElement("div",{className:"profile-info"},n.createElement(h.A,{src:i,alt:t,className:"profile-avatar",sx:{width:100,height:100,fontSize:"1.8rem",fontWeight:700,backgroundColor:"#e72b4a",color:"white",border:"4px solid #ffffff",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"}},!i&&(e=>e.split(" ").map(e=>e[0]).join("").toUpperCase())(t)),n.createElement("div",{className:"profile-details"},n.createElement(r.A,{variant:"h5",className:"doctor-name"},t),n.createElement(r.A,{variant:"body1",className:"doctor-specialty"},a),v&&n.createElement(_.A,{label:"".concat(v," experience"),size:"small",sx:{marginTop:"8px",backgroundColor:"#e3f2fd",color:"#1976d2",fontWeight:600,fontSize:"11px"}}),n.createElement("div",{className:"rating-section"},n.createElement(y.A,{value:d,readOnly:!0,precision:.1,size:"small",sx:{marginTop:"8px"}}),n.createElement(r.A,{variant:"caption",className:"rating-text"},d," (",m," reviews)")))),c&&n.createElement(g.A,{label:"Edit Profile",startIcon:n.createElement(w.A,null),isTransparent:!0,buttonCss:{minWidth:"140px",height:"44px",borderRadius:"12px",fontSize:"14px",fontWeight:600,textTransform:"none",border:"2px solid #e72b4a",color:"#e72b4a",backgroundColor:"transparent",transition:"all 0.3s ease","&:hover":{backgroundColor:"#e72b4a",color:"white",borderColor:"#e72b4a",transform:"translateY(-2px)",boxShadow:"0 4px 12px rgba(231, 43, 74, 0.3)"}},handleClick:l})),(u||p||f)&&n.createElement(n.Fragment,null,n.createElement(E.A,{sx:{margin:"1.5rem 0",opacity:.6}}),n.createElement("div",{className:"contact-info"},u&&n.createElement("div",{className:"contact-item"},n.createElement(x.A,{sx:{fontSize:18,color:"#666"}}),n.createElement(r.A,{variant:"body2",className:"contact-text"},u)),p&&n.createElement("div",{className:"contact-item"},n.createElement(k.A,{sx:{fontSize:18,color:"#666"}}),n.createElement(r.A,{variant:"body2",className:"contact-text"},p)),f&&n.createElement("div",{className:"contact-item"},n.createElement(N.A,{sx:{fontSize:18,color:"#666"}}),n.createElement(r.A,{variant:"body2",className:"contact-text"},f))))))};S.propTypes={name:b().string,specialty:b().string,profileImage:b().string,onEditClick:b().func,className:b().string,showEditButton:b().bool,rating:b().number,reviewCount:b().number,location:b().string,phone:b().string,email:b().string,experience:b().string,variant:b().oneOf(["default","compact","detailed"])};const C=S;var P=a(84976);const I=["tabs","className"];function L(){return L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},L.apply(null,arguments)}const j=e=>{let{tabs:t=[],className:a=""}=e,r=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,I);return n.createElement("nav",L({className:"listing-tabs ".concat(a)},r),t.map((e,t)=>n.createElement(P.k2,{key:t,to:e.path,className:t=>{let{isActive:a}=t;return"tab-link ".concat(a||e.active?"active":"")}},e.label)))};j.propTypes={tabs:b().arrayOf(b().shape({label:b().string.isRequired,path:b().string.isRequired,active:b().bool})).isRequired,className:b().string};const D=j;var T=a(57741);function z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function R(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?z(Object(a),!0).forEach(function(t){B(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):z(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function B(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const W=()=>{const e=(0,m.Zp)(),[t,a]=(0,n.useState)(""),[v,b]=(0,n.useState)(!1),[h,_]=(0,n.useState)(""),[y,E]=(0,n.useState)(!1),[w,x]=(0,n.useState)(!1),[k,N]=(0,n.useState)(!1),[A,O]=(0,n.useState)(!1),[S,P]=(0,n.useState)({doctor_id:localStorage.getItem("doctor_suid"),listing_name:"",working_days_start:null,working_days_end:null,working_time_start:null,working_time_end:null,about:"",is_active:0}),[I,L]=(0,n.useState)({name:"Dr. Maria Garcia",specialty:"Neurologist",profileImage:"/path/to/profile-image.jpg"});(0,n.useEffect)(()=>{localStorage.setItem("activeComponent","listing"),localStorage.setItem("path","listingdetails");const e=localStorage.getItem("editing_listing_id");e?(N(!0),W(e)):(N(!1),O(!1))},[]),(0,n.useEffect)(()=>{},[S]);const j=(e,t)=>{const a=R(R({},S),{},{[e]:t?t.toISOString().split("T")[0]:null});P(a),B(a)},z=(e,t)=>{const a=t?"".concat(t.getHours().toString().padStart(2,"0"),":").concat(t.getMinutes().toString().padStart(2,"0"),":00"):null,n=R(R({},S),{},{[e]:a});P(n),B(n)},B=e=>{const t=e.listing_name&&e.working_days_start&&e.working_days_end&&e.working_time_start&&e.working_time_end;x(t)},W=async e=>{O(!0);try{var t;const n=await T.A.get("/sec/doctor/DocListingPlanByDoctorListingId/".concat(e));if(null!==(t=n.data)&&void 0!==t&&null!==(t=t.response)&&void 0!==t&&t.DocListingPlan&&n.data.response.DocListingPlan.length>0){const e=n.data.response.DocListingPlan[0],t=e=>{if(!e)return null;return new Date(e).toISOString().split("T")[0]},r=R(R({},S),{},{listing_name:e.listing_name||"",working_days_start:t(e.working_days_start),working_days_end:t(e.working_days_end),working_time_start:e.working_time_start||null,working_time_end:e.working_time_end||null,about:e.about||""});P(r),a(e.about||""),B(r)}else _("No listing data found. Please try again."),E(!0)}catch(e){_("Error loading listing data. Please try again."),E(!0)}finally{O(!1)}};return n.createElement(n.Fragment,null,n.createElement(f.A,{type:"success",isOpen:y,message:h}),n.createElement("div",{className:"doctor-listing-details"},n.createElement("div",{className:"listing-header"},n.createElement(r.A,{variant:"h4",className:"page-title"},k?"Edit Listing":"Create New Listing"),n.createElement(i.A,{onClick:()=>{e("/doctordashboard/doctorListing/doctoractiveListing")},className:"close-button","aria-label":"close"},n.createElement(d.A,null))),n.createElement(D,{tabs:[{label:"Listing Details",path:"/doctordashboard/doctorListing/listingdetails",active:!0},{label:"Add Plan",path:"/doctordashboard/doctorListing/addplans",active:!1},{label:"Add Questioner",path:"/doctordashboard/doctorListing/addquestioner",active:!1},{label:"Term & Conditions",path:"/doctordashboard/doctorListing/termandcondition",active:!1}]}),n.createElement(C,{name:I.name,specialty:I.specialty,profileImage:I.profileImage,onEditClick:()=>{e("/doctordashboard/doctorpersonalinfo")}}),n.createElement("div",{className:"form-section"},A?n.createElement(o.A,{sx:{textAlign:"center",padding:"40px"}},n.createElement(r.A,{variant:"h6",sx:{marginBottom:"16px"}},"Loading listing data..."),n.createElement(o.A,{sx:{display:"flex",justifyContent:"center"}},n.createElement(l.A,{variant:"rectangular",width:"100%",height:200}))):n.createElement(n.Fragment,null,n.createElement(o.A,{className:"form-grid"},n.createElement("div",{className:"form-group"},n.createElement(r.A,{variant:"h6",className:"form-label"},"Add Details"),n.createElement(s.A,{label:"Listing Name",value:S.listing_name||"",onChange:e=>{const t=R(R({},S),{},{listing_name:e.target.value});P(t),B(t)},variant:"standard",fullWidth:!0,placeholder:"Enter listing name",sx:{width:"100%",height:"56px",marginBottom:"1.5rem"}})),n.createElement("div",{className:"form-group"},n.createElement(r.A,{variant:"h6",className:"form-label"},"Working Days"),n.createElement("div",{className:"date-range-container"},n.createElement(u.A,{label:"From",value:S.working_days_start?new Date(S.working_days_start):null,onChange:e=>j("working_days_start",e),textcss:{width:"100%"}}),n.createElement(u.A,{label:"To",value:S.working_days_end?new Date(S.working_days_end):null,onChange:e=>j("working_days_end",e),textcss:{width:"100%"}}))),n.createElement("div",{className:"form-group"},n.createElement(r.A,{variant:"h6",className:"form-label"},"Working Time"),n.createElement("div",{className:"time-range-container"},n.createElement(p.A,{label:"From",value:S.working_time_start?(()=>{const[e,t]=S.working_time_start.split(":"),a=new Date;return a.setHours(parseInt(e),parseInt(t),0,0),a})():null,onChange:e=>z("working_time_start",e),textcss:{width:"100%"}}),n.createElement(p.A,{label:"To",value:S.working_time_end?(()=>{const[e,t]=S.working_time_end.split(":"),a=new Date;return a.setHours(parseInt(e),parseInt(t),0,0),a})():null,onChange:e=>z("working_time_end",e),textcss:{width:"100%"}})))),n.createElement("div",{className:"about-section"},n.createElement(r.A,{variant:"h6",className:"form-label"},"About"),n.createElement(c.A,{minRows:5,className:"about-textarea ".concat(v?"typing":""),value:t,onChange:e=>{a(e.target.value),b(!0),P(R(R({},S),{},{about:e.target.value}))},onBlur:()=>{b(!1)},placeholder:"Tell us about your practice, experience, and what makes you unique..."})),n.createElement("div",{className:"action-buttons"},n.createElement(g.A,{label:"Save As Draft",isTransparent:!0,isDisabled:!w,buttonCss:{width:"170px",borderRadius:"100px",marginRight:"16px"},handleClick:async()=>{E(!1);try{const a=localStorage.getItem("editing_listing_id"),n=R(R({},S),{},{doctor_id:parseInt(S.doctor_id),is_active:0},a&&{doctor_list_id:parseInt(a)}),r=await T.A.post("/sec/createUpdatedoctorlisting/listing",n);var t;if(a)_("Draft updated successfully!"),localStorage.removeItem("editing_listing_id"),E(!0),setTimeout(()=>{e("/doctordashboard/doctorListing/doctoractiveListing",{replace:!0})},2500);else localStorage.setItem("listing_id",null==r||null===(t=r.data)||void 0===t||null===(t=t.response)||void 0===t||null===(t=t.docListingCreate)||void 0===t?void 0:t.doctor_list_id),_("Draft saved successfully!"),E(!0),setTimeout(()=>{e("/doctordashboard/doctorListing/doctoractiveListing",{replace:!0})},2500)}catch(e){_("Error saving draft. Please try again."),E(!0)}}}),n.createElement(g.A,{label:k?"Update Listing":"Next",isDisabled:!w,buttonCss:{width:"170px",borderRadius:"100px"},handleClick:async()=>{E(!1);try{const n=localStorage.getItem("editing_listing_id"),r=R(R({},S),{},{doctor_id:parseInt(S.doctor_id)},n&&{doctor_list_id:parseInt(n)}),i=await T.A.post("/sec/createUpdatedoctorlisting/listing",r);var t,a;if(n)_("Listing updated successfully!"),E(!0),setTimeout(()=>{e("/doctordashboard/doctorListing/addplans",{replace:!0})},1500);else localStorage.setItem("listing_id",null==i||null===(t=i.data)||void 0===t||null===(t=t.response)||void 0===t||null===(t=t.docListingCreate)||void 0===t?void 0:t.doctor_list_id),_(null==i||null===(a=i.data)||void 0===a||null===(a=a.response)||void 0===a?void 0:a.message),E(!0),setTimeout(()=>{e("/doctordashboard/doctorListing/addplans",{replace:!0})},1500)}catch(e){var n,r;let t="Error saving listing. Please try again.";null!==(n=e.response)&&void 0!==n&&null!==(n=n.data)&&void 0!==n&&n.error?t=e.response.data.error:null!==(r=e.response)&&void 0!==r&&null!==(r=r.data)&&void 0!==r&&r.message&&(t=e.response.data.message),_(t),E(!0)}}}))))))}}}]);
//# sourceMappingURL=279.fe511b5e8af44ec24fd9.js.map