"use strict";(self.webpackChunksec_frontend=self.webpackChunksec_frontend||[]).push([[153],{64153:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k});var a=n(69067),l=n(96540),r=n(47767),o=n(84976),c=(n(95046),n(5999),n(16988)),i=n(33198),s=n(60538),d=n(64137),u=n(96627),m=n(86798),g=n(14774),p=n(43884),E=n(32325),h=n(93959),A=n(57741),v=n(58407),f=n(74021),b=n(85586);const S=()=>{const[e,t]=(0,l.useState)([]),[n]=(0,l.useState)(localStorage.getItem("diagnostic_suid")),[a,r]=(0,l.useState)(!1),[o,S]=(0,l.useState)("Appointment Accepted"),[y,k]=(0,l.useState)(""),[_,x]=(0,l.useState)(!0),[w,C]=(0,l.useState)(0),[R,N]=(0,l.useState)(5),P=async()=>{x(!0);try{var e;const a=await(0,A.A)("/sec/hcf/testRequests/".concat(n));t((null==a||null===(e=a.data)||void 0===e?void 0:e.response)||[])}catch(e){}finally{x(!1)}};(0,l.useEffect)(()=>{P()},[a]);return l.createElement(i.A,{component:s.A,style:{background:"white"}},l.createElement(v.A,{isOpen:a,message:o,type:y}),l.createElement(d.A,{sx:{minWidth:650},"aria-label":"simple table"},l.createElement(u.A,null,l.createElement(m.A,null,l.createElement(g.A,null,"Name & Booking ID"),l.createElement(g.A,{align:"right"},"Date "),l.createElement(g.A,{align:"right"},"Schedule"),l.createElement(g.A,{align:"right"},"Test name"),l.createElement(g.A,{align:"right"},"Price"),l.createElement(g.A,{align:"center"},"Action"))),l.createElement(p.A,null,_?Array.from({length:R}).map((e,t)=>l.createElement(m.A,{key:t},l.createElement(g.A,{colSpan:6,align:"center"},l.createElement(E.A,{variant:"rectangular",width:"100%",height:40})))):0===e.length?l.createElement(m.A,null,l.createElement(g.A,{colSpan:6,align:"center"},l.createElement(b.A,{text_one:"No Data Found"}))):e.slice(w*R,w*R+R).map(e=>l.createElement(m.A,{key:null==e?void 0:e.suid,sx:{"&:last-child td, &:last-child th":{border:0}}},l.createElement(g.A,{component:"th",scope:"row"},l.createElement(f.A,{id:null==e?void 0:e.test_id,name:"".concat(null==e?void 0:e.first_name," ").concat(null==e?void 0:e.middle_name," ").concat(null==e?void 0:e.last_name),profile:null==e?void 0:e.profile_picture})),l.createElement(g.A,{align:"right"},null==e?void 0:e.book_date," "),l.createElement(g.A,{align:"right"},null==e?void 0:e.status),l.createElement(g.A,{align:"right"},null==e?void 0:e.test_name),l.createElement(g.A,{align:"right"},"â‚¹",null==e?void 0:e.test_price),l.createElement(g.A,{align:"center"},l.createElement(c.A,{handleClick:()=>(async(e,t)=>{r(!1);try{await A.A.post("/sec/hcf/testRequestsAccept",JSON.stringify({test_id:String(e),staff_id:String(t)})),S("Accepted Successfully"),k("success"),r(!0),P()}catch(e){S("Error"),k("error"),r(!0)}})(null==e?void 0:e.test_id,n),buttonCss:{borderRadius:"2em"},isTransaprent:!0,label:"Accept"}),l.createElement(c.A,{handleClick:()=>(async(e,t)=>{r(!1);try{await A.A.post("/sec/hcf/testRequestReject",JSON.stringify({test_id:String(e),staff_id:String(t)})),S("Rejected Successfully"),k("success"),r(!0),P()}catch(e){S("Error"),k("error"),r(!0)}})(null==e?void 0:e.test_id,n),buttonCss:{borderRadius:"2em"},isTransaprent:!0,label:"Reject"})))))),l.createElement(h.A,{rowsPerPageOptions:[5,10,25],component:"div",count:e.length,rowsPerPage:R,page:w,onPageChange:(e,t)=>{C(t)},onRowsPerPageChange:e=>{N(parseInt(e.target.value,10)),C(0)}}))},y=()=>{const[e,t]=(0,l.useState)([]),[n]=(0,l.useState)(localStorage.getItem("diagnostic_suid")),[a,r]=(0,l.useState)(!0),[o,c]=(0,l.useState)(0),[v,S]=(0,l.useState)(5);(0,l.useEffect)(()=>{(async()=>{r(!0);try{var e;const a=await(0,A.A)("/sec/hcf/testRejected/".concat(n));t((null==a||null===(e=a.data)||void 0===e?void 0:e.response)||[])}catch(e){}finally{r(!1)}})()},[n]);const y=(0,l.useMemo)(()=>e.map(e=>({id:null==e?void 0:e.test_id,propic:null==e?void 0:e.profile_picture,name:"".concat(null==e?void 0:e.first_name," ").concat(null==e?void 0:e.last_name)||"N/A",bookDate:(null==e?void 0:e.book_date)||"N/A",testName:(null==e?void 0:e.test_name)||"N/A",status:(null==e?void 0:e.status)||"N/A",profile_picture:(null==e?void 0:e.profile_picture)||" "})),[e]);return l.createElement(i.A,{component:s.A,style:{background:"white"}},l.createElement(d.A,{sx:{minWidth:650},"aria-label":"simple table"},l.createElement(u.A,null,l.createElement(m.A,null,l.createElement(g.A,null,"Name/Booking ID"),l.createElement(g.A,{align:"right"},"Date"),l.createElement(g.A,{align:"right"},"Test Name"),l.createElement(g.A,{align:"right"},"Details"))),l.createElement(p.A,null,a?Array.from(new Array(v)).map((e,t)=>l.createElement(m.A,{key:t},l.createElement(g.A,{colSpan:6,align:"center"},l.createElement(E.A,{variant:"rectangular",width:"100%",height:40})))):y.length>0?y.slice(o*v,o*v+v).map(e=>l.createElement(m.A,{key:e.id,sx:{"&:last-child td, &:last-child th":{border:0}}},l.createElement(f.A,{id:null==e?void 0:e.id,name:null==e?void 0:e.name,profile:null==e?void 0:e.profile_picture}),l.createElement(g.A,{align:"right"},e.bookDate),l.createElement(g.A,{align:"right"},e.testName),l.createElement(g.A,{align:"right"},e.status))):l.createElement(m.A,null,l.createElement(g.A,{colSpan:4,align:"center"},l.createElement(b.A,{text_one:"No Data Found"}))))),l.createElement(h.A,{rowsPerPageOptions:[5,10,25],component:"div",count:y.length,rowsPerPage:v,page:o,onPageChange:(e,t)=>{c(t)},onRowsPerPageChange:e=>{S(parseInt(e.target.value,10)),c(0)}}))},k=()=>{l.useEffect(()=>{localStorage.setItem("activeComponent","reports"),localStorage.setItem("path","request")},[]),(0,l.useEffect)(()=>{document.getElementById("location-search-container").style.display="none"},[]);const[e,t]=(0,l.useState)([null,null]);const[n,c]=(0,l.useState)(!0),[i,s]=(0,l.useState)("#E6E1E5");(0,r.Zp)();return l.createElement(l.Fragment,null,l.createElement(a.A,{sx:{display:"flex",width:"98%",height:"100%",height:"90%",flexDirection:"row"}},l.createElement("nav",{className:"NavBar-Container-Appoinement"},l.createElement("nav",{className:"NavBar-Container-Appoinement"},l.createElement(o.k2,{to:"/diagnostCenterDashboard/diagnosticCenterReports/request"},"Request"),l.createElement(o.k2,{to:"/diagnostCenterDashboard/diagnosticCenterReports/examination"},"Examination"),l.createElement(o.k2,{to:"/diagnostCenterDashboard/diagnosticCenterReports/report"},"Report"))),l.createElement(a.A,{component:"div",sx:{position:"relative",top:"4em",width:"100%",display:"block",height:"100%"}},l.createElement("div",{className:"search-date"},l.createElement("div",{style:{display:"flex",margin:"10px",border:"1px solid #AEAAAE",borderRadius:"25px",height:"38px",backgroundColor:"#E6E1E5",position:"relative",overflow:"hidden",boxShadow:"0 2px 5px rgba(0,0,0,0.2)",width:"200px"}},l.createElement("button",{style:{flex:1,border:"none",borderRadius:"25px",height:"100%",color:n?"#F5F5F5":"#28282B",backgroundColor:n?"#28282B":"transparent",transition:"background-color 0.3s ease, color 0.3s ease",fontWeight:"bold",cursor:"pointer"},onClick:()=>c(!0)},"Received"),l.createElement("button",{style:{flex:1,border:"none",borderRadius:"25px",height:"100%",color:n?"#28282B":"#F5F5F5",backgroundColor:n?"transparent":"#28282B",transition:"background-color 0.3s ease, color 0.3s ease",fontWeight:"bold",cursor:"pointer"},onClick:()=>c(!1)},"Rejected"))),n?l.createElement(S,null):l.createElement(y,null))))}}}]);
//# sourceMappingURL=153.fe511b5e8af44ec24fd9.js.map