"use strict";(self.webpackChunksec_frontend=self.webpackChunksec_frontend||[]).push([[507],{7507:(e,t,n)=>{n.d(t,{A:()=>y});var a=n(96540),l=(n(97320),n(53054)),r=n(69067),i=n(14073),o=n(32325),c=n(844),s=n(55044),m=n(97190),d=n(73896),p=n(45975),u=n(56889),v=(n(78585),n(29162)),E=(n(16221),n(57741)),f=n(74518),h=n(10609);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){A(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function A(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const y=e=>{var t,n,g,A,y,w,b,S,_;let{data:j={},label:O,AcceptOrRejectButtonClicked:k,accAndRejClicked:N}=e;const[P,C]=a.useState(null),R=Boolean(P),[D,F]=(0,a.useState)(!1),[W,I]=(0,a.useState)(!1),[z,B]=(0,a.useState)(!1),[T,q]=(0,a.useState)(!1),[L,H]=(0,a.useState)([]),[G,Q]=(0,a.useState)(!0);l.Uy.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(l.Uy.version,"/pdf.worker.min.js");const[U,Y]=(0,a.useState)(null),M=["I have a schedule clash","I am not available at the schedule","I have some emergency","I am not well","Other Emergencies"],[V,J]=a.useState(M[0]),[K,X]=(0,a.useState)({appointment_id:null,patient_id:null,doctor_id:null,status:null}),[Z,$]=(0,a.useState)(!1),[ee,te]=(0,a.useState)({appointment_id:null==j?void 0:j.appointment_id,patient_id:null==j?void 0:j.patient_id,doctor_id:null==j?void 0:j.doctor_id,reason:null,status:"in_progress",option:"reject"}),[ne,ae]=(0,a.useState)(!1),[le,re]=(0,a.useState)({appointment_id:null,patient_id:null,doctor_id:null,status:"in_progress",option:"accept"});(0,a.useEffect)(()=>{re({appointment_id:null==j?void 0:j.appointment_id,patient_id:null==j?void 0:j.patient_id,doctor_id:null==j?void 0:j.doctor_id,status:"in_progress",option:"accept"})},[]);const[ie,oe]=(0,a.useState)(!1);(0,a.useEffect)(()=>{ie&&(async()=>{try{var e;const t=await E.A.post("/sec/Doctor/AppointmentsRequestsReject",ee);alert("Appointment ".concat((null==t||null===(e=t.data)||void 0===e||null===(e=e.response)||void 0===e?void 0:e.status)||"rejected successfully")),k(!N),oe(!1)}catch(e){var t;alert("Error: ".concat((null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.error)||e.message||"Failed to reject appointment")),oe(!1)}})()},[ie]);const[ce,se]=(0,a.useState)(!1),me=Array.isArray(L)&&(null===(t=L[0])||void 0===t?void 0:t.report_path),de=Array.isArray(L)&&(null===(n=L[0])||void 0===n?void 0:n.report_name),pe=async(e,t)=>{Q(!0);try{var n;const a=await E.A.get("sec/hcf/".concat(e,"/").concat(t,"/ClinicAppointmentPatient")),l=(null==a||null===(n=a.data)||void 0===n?void 0:n.response)||[];H(l)}catch(e){}finally{Q(!1)}};me&&(me.startsWith("http")||"/assets/".concat(me));return a.createElement(a.Fragment,null,a.createElement("div",{className:"Request-main-container"},a.createElement("div",{className:"Request-inner-container"},a.createElement("div",{style:{width:"3.13981rem",height:"height: 4.71831rem"}},a.createElement("div",{className:"RequestimageContainer"},a.createElement(r.A,{className:"image-container",component:"img",sx:{width:"100%",height:"100%"},src:(null==j?void 0:j.profile_picture)||f,alt:"Profile Image"}))),a.createElement("div",{style:{marginLeft:"2%"}},a.createElement("div",{style:{display:"flex",justifyContent:"flex-start"}},a.createElement(i.A,{sx:{color:"#313033",fontFamily:"Poppins",fontSize:"1.125rem",fontStyle:"normal",fontWeight:"400",lineHeight:"1.75rem"}},null!=j&&j.patientBookingName?null==j?void 0:j.patientBookingName:null!=j&&j.patientBookedName?null==j?void 0:j.patientBookedName:null)),a.createElement("div",{className:"card-details-container"},a.createElement(i.A,{sx:{color:"#787579",fontFamily:"Poppins",fontSize:"0.75rem",fontStyle:"normal",fontWeight:"400",lineHeight:"1.125rem",letterSpacing:"0.006rem",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",flex:"1"}},null==j?void 0:j.appointment_date," | ",null==j?void 0:j.attachments," | ",null==j?void 0:j.report_name),a.createElement(r.A,{component:"a",onClick:()=>{return e=null==j?void 0:j.patient_id,t=null==j?void 0:j.appointment_id,pe(e,t),void q(!0);var e,t},sx:{color:"#E72B4A",fontFamily:"Poppins",fontSize:"0.75rem",fontStyle:"normal",fontWeight:"400",lineHeight:"1.125rem",letterSpacing:"0.006rem",textDecoration:"none",whiteSpace:"nowrap","&:hover":{textDecoration:"underline",cursor:"pointer"}}},"View"),a.createElement(u.A,{style:{display:"flex"},isOpen:T,conditionOpen:q,title:a.createElement(r.A,{sx:{border:"1px solid #E6E1E5",borderTop:"1px",borderRight:"1px",borderLeft:"1px",width:"570px",height:"82px",display:"flex",justifyContent:"flex-start",alignItems:"center",paddingLeft:"16px"}},G?a.createElement(o.A,{variant:"text",width:"40%",height:30}):a.createElement("h2",{style:{textAlign:"left",fontFamily:"Poppins",fontSize:"20px",fontStyle:"normal",fontWeight:"500",lineHeight:"30px",width:"100%",height:"30px"}},"Patient Details"))},G?a.createElement(r.A,{sx:{padding:2}},a.createElement(o.A,{variant:"text",width:"30%"}),a.createElement(o.A,{variant:"text",width:"70%"}),a.createElement(o.A,{variant:"text",width:"30%",sx:{mt:2}}),a.createElement(o.A,{variant:"text",width:"70%"}),a.createElement(o.A,{variant:"text",width:"30%",sx:{mt:2}}),a.createElement(o.A,{variant:"text",width:"70%"}),a.createElement(o.A,{variant:"text",width:"40%",sx:{mt:4}}),a.createElement(o.A,{variant:"text",width:"90%"}),a.createElement(o.A,{variant:"text",width:"90%"}),a.createElement(o.A,{variant:"text",width:"40%",sx:{mt:4}}),a.createElement(o.A,{variant:"text",width:"100%",height:200})):a.createElement(a.Fragment,null,a.createElement("div",null,"Patient Details"),a.createElement("div",{className:"textfield-cont"},a.createElement("div",{className:"name-email"},a.createElement(i.A,{sx:{color:"#787579",fontSize:"0.875rem",fontWeight:400}},"Name"),a.createElement(i.A,null,"".concat(null===(g=L[0])||void 0===g?void 0:g.first_name," ").concat(null===(A=L[0])||void 0===A?void 0:A.middle_name," ").concat(null===(y=L[0])||void 0===y?void 0:y.last_name))),a.createElement("div",{className:"name-email"},a.createElement(i.A,{sx:{color:"#787579",fontSize:"0.875rem",fontWeight:400}},"Age"),a.createElement(i.A,null,null===(w=L[0])||void 0===w?void 0:w.age)),a.createElement("div",{className:"name-email"},a.createElement(i.A,{sx:{color:"#787579",fontSize:"0.875rem",fontWeight:400}},"Gender"),a.createElement(i.A,null,null===(b=L[0])||void 0===b?void 0:b.gender))),a.createElement("div",null,a.createElement("div",null,"Attached files"),a.createElement("div",{className:"textfield-cont"},a.createElement("div",{className:"name-email"},a.createElement(i.A,{sx:{color:"#787579",fontSize:"0.875rem",fontWeight:400}},"File name"),a.createElement(i.A,null,null===(S=L[0])||void 0===S?void 0:S.attachments)),a.createElement("div",{className:"name-email"},a.createElement(i.A,{sx:{color:"#E72B4A",cursor:"pointer"},onClick:()=>{se(!0)}},"view")),a.createElement("div",{className:"name-email"},a.createElement(i.A,{sx:{color:"#E72B4A",display:"flex",alignItems:"center",cursor:"pointer"},onClick:()=>{const e=document.createElement("a");e.target="_blank",e.href=me,e.download=de,e.click()}},a.createElement(h.A,{sx:{marginRight:"5px"}})," Download"))),a.createElement("div",null,"Questions Details"),a.createElement("div",{className:"textfield-cont"},[1,2,3,4,5].map(e=>{var t;return a.createElement("div",{className:"name-email",key:e},a.createElement(i.A,{sx:{color:"#787579",fontSize:"0.875rem",fontWeight:400}},"Question ",e),a.createElement(i.A,null,(null===(t=L[0])||void 0===t?void 0:t["answer_".concat(e)])||"answer"))})),a.createElement(u.A,{isOpen:ce,conditionOpen:se},a.createElement(r.A,{sx:{width:"870px",border:"1px solid #E6E1E5",height:"80vh",padding:"20px",backgroundColor:"white",overflowY:"scroll"}},a.createElement(i.A,{variant:"h6",sx:{mb:2}},"Report"),a.createElement(l.yo,{file:null===(_=L[0])||void 0===_?void 0:_.report_path,onLoadSuccess:e=>{let{numPages:t}=e;Y(t)},loading:a.createElement(i.A,null,"Loading PDF..."),error:a.createElement(i.A,{color:"error"},"Failed to load PDF."),noData:a.createElement(i.A,null,"No PDF file provided.")},Array.from(new Array(U),(e,t)=>a.createElement(l.YW,{key:"page_".concat(t+1),pageNumber:t+1,width:800}))))))))))),a.createElement("div",{className:"request-button-container"},a.createElement("div",{style:{display:"flex",alignItems:"center",marginRight:"2%"}},O?a.createElement(v.A,{buttonCss:{display:"flex",width:"9.3125rem",height:"2.5rem",padding:"0.5rem 1rem",justifyContent:"center",alignItems:"center",gap:"0.5rem",flexShrink:"0",borderRadius:"6.25rem"},label:O,isTransaprent:!1,handleClick:async()=>{$(!Z);try{var e;const t=await E.A.post("/sec/Doctor/AppointmentsRequestsAccept",le);alert("Appointment ".concat((null==t||null===(e=t.data)||void 0===e||null===(e=e.response)||void 0===e?void 0:e.status)||"accepted successfully")),k(!N)}catch(e){var t;alert("Error: ".concat((null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.error)||e.message||"Failed to accept appointment"))}}}):null),a.createElement("div",{style:{display:"flex",alignItems:"center"}},O?a.createElement(s.A,{sx:{cursor:"pointer",color:"#E6E1E5",border:"1px solid #E6E1E5",borderRadius:"50px"},onClick:e=>{C(e.currentTarget),F(!1),I(!1)}}):null,a.createElement(m.A,{id:"basic-menu",anchorEl:P,open:R,onClose:()=>{C(null)},MenuListProps:{"aria-labelledby":"basic-button"}},a.createElement(d.A,{onClick:()=>B(!z)},"Reject"),a.createElement(u.A,{isOpen:z,title:"Reject Appointment Request",conditionOpen:B,footer:a.createElement(a.Fragment,null,a.createElement(r.A,{sx:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}}))},a.createElement(r.A,{sx:{textAlign:"center"}},a.createElement(i.A,null,"Are you sure. you want to cancel the appointment")),a.createElement("div",{style:{marginTop:"4%"}},a.createElement(a.Fragment,null,a.createElement(r.A,{sx:{marginTop:"5%",display:"flex",flexWrap:"wrap",flexDirection:"column"}},a.createElement(i.A,{sx:{fontWeight:"600",fontSize:"16px",lineHeight:"24px"}},"Reason For Rejection"),a.createElement(p.A,{label:"",handleChange:e=>{let{target:t}=e;J(t.value),te(x(x({},ee),{},{reason:t.value}))},value:V,items:M}),a.createElement(r.A,{sx:{marginTop:"5%",width:"100%"}},a.createElement(i.A,null,"Add Note"),a.createElement(c.A,{style:{width:"100%",padding:"3%"},placeholder:" Note: Please leave the review here.",multiline:!0,rows:3,maxRows:4})),a.createElement(r.A,{sx:{marginTop:"6%",display:"flex",justifyContent:"center"}},a.createElement(v.A,{handleClick:()=>oe(!0),label:"Reject Appointment"})))))))))))}},78585:(e,t,n)=>{n.d(t,{A:()=>a});n(96540);const a=n.p+"1cabdb3ae29c5524313e1580b423d0e4.svg"},97320:(e,t,n)=>{e.exports=n.p+"images/profileImage..png"}}]);
//# sourceMappingURL=507.fe511b5e8af44ec24fd9.js.map