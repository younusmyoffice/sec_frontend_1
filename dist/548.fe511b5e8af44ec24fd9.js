"use strict";(self.webpackChunksec_frontend=self.webpackChunksec_frontend||[]).push([[548],{75548:(e,t,a)=>{a.r(t),a.d(t,{default:()=>k});var n=a(69067),l=a(33198),r=a(60538),i=a(64137),o=a(96627),s=a(86798),c=a(14774),d=a(43884),m=a(32325),u=a(14073),p=a(93959),f=a(96540),h=a(84976),g=a(16988);const b=e=>{let{name:t,staff_id:a,lab_id:l}=e;return f.createElement(f.Fragment,null,f.createElement(n.A,{sx:{display:"flex"}},f.createElement(n.A,{sx:{marginLeft:"2%",display:"flex",flexDirection:"column",justifyContent:"center"}},f.createElement(u.A,{sx:{color:"#313033",fontFamily:"Poppins",fontSize:"0.875rem",fontStyle:"normal",fontWeight:"500",lineHeight:"1.375rem",letterSpacing:"0.00438rem"}},t),f.createElement(u.A,{sx:{color:"#939094",fontFamily:"Poppins",fontSize:"0.625rem",fontStyle:"normal",fontWeight:"400",lineHeight:"0.9375rem",letterSpacing:"0.005rem"}},"Lab id : ","".concat(a," ").concat(l)))))};var E=a(56889),v=a(39057),y=a(95046);a(13795),a(41678);var _=a(57741),A=a(49853),S=a(85586),w=a(35273),P=a(72540),C=a(58407);function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach(function(t){T(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function T(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const k=()=>{const[e,t]=(0,f.useState)([]),[a,O]=(0,f.useState)(!0),[T,k]=(0,f.useState)(!1),[I,N]=(0,f.useState)(""),[j,W]=(0,f.useState)(""),[D,F]=(0,f.useState)(""),[R,V]=(0,f.useState)(""),[B,M]=(0,f.useState)(!1),[H,J]=(0,f.useState)([]),[z,L]=(0,f.useState)([]),[U,q]=(0,f.useState)(!1),[G,K]=(0,f.useState)({first_name:"",email:"",mobile:"",role_id:"4",password:"",staff_designation:"",hcf_id:localStorage.getItem("hcfadmin_suid"),lab_department_id:""}),[Q,X]=(0,f.useState)(!1),[Y,Z]=(0,f.useState)(!1),[$,ee]=(0,f.useState)({staff_id:null,first_name:null,hcf_id:localStorage.getItem("hcfadmin_suid"),email:null,mobile:null,role_id:"4",password:null,added_by:null,staff_designation:null,dept_exam_id:null}),[te,ae]=(0,f.useState)(""),[ne,le]=(0,f.useState)(""),[re,ie]=(0,f.useState)(!1),[oe,se]=(0,f.useState)(0),[ce,de]=(0,f.useState)(5),[me,ue]=(0,f.useState)(!1),[pe,fe]=(0,f.useState)(!1),[he,ge]=(0,f.useState)(!1),[be,Ee]=(0,f.useState)(""),[ve,ye]=(0,f.useState)(""),[_e,Ae]=(0,f.useState)(!1),[Se,we]=(0,f.useState)(null),[Pe,Ce]=(0,f.useState)({email:"",mobile:"",role_id:"4",hcf_id:localStorage.getItem("hcfadmin_suid"),register_with_email:"true"}),[Oe,xe]=(0,f.useState)({email:"",mobile:"",role_id:"4",hcf_id:localStorage.getItem("hcfadmin_suid"),register_with_email:"false"}),[Te,ke]=(0,f.useState)({email:Pe.email,activation_code:Se}),[Ie,Ne]=(0,f.useState)({mobile:Oe.mobile,otp_code:Se}),je=localStorage.getItem("hcfadmin_suid");(0,f.useEffect)(()=>{We(G)},[G]);const We=e=>{const t=e.first_name&&e.email&&e.mobile&&e.role_id&&e.password&&e.hcf_diag_name&&e.lab_department_id&&e.hcf_id;q(t)};(0,f.useEffect)(()=>{(async()=>{O(!0);try{var e;const a=await _.A.get("/sec/hcf/getHcfStaff/".concat(je));t((null==a||null===(e=a.data)||void 0===e?void 0:e.response)||[])}catch(e){}finally{O(!1)}})()},[je]);(0,f.useEffect)(()=>{(async()=>{try{var e;const t=await _.A.get("/sec/labDepartments");J((null==t||null===(e=t.data)||void 0===e?void 0:e.response)||[])}catch(e){}})()},[]);const De=H.map(e=>({id:e.lab_department_id,name:e.lab_department_name}));(0,f.useEffect)(()=>{(async()=>{try{var e;const t=await _.A.get("/sec/staffDesignations");L((null==t||null===(e=t.data)||void 0===e?void 0:e.response)||[])}catch(e){}})()},[]);const Fe=z.map(e=>({id:e.staff_designation_id,name:e.staff_designation_name})),Re=e=>{ae(e.target.value),ne&&e.target.value!==ne?ie(!0):ie(!1)},Ve=e=>{le(e.target.value),e.target.value!==te?ie(!0):ie(!1)},Be=(Math.ceil(e.length/ce),e.slice(oe*ce,oe*ce+ce));(0,f.useEffect)(()=>{(e=>{const t=e.staff_id&&e.first_name&&e.email&&e.mobile&&e.role_id&&e.password&&e.hcf_diag_name&&e.dept_exam_id&&e.hcf_id;Z(t)})($)},[$]);const Me=H.map(e=>({id:e.lab_department_id,name:e.lab_department_name})),He=z.map(e=>({id:e.staff_designation_id,name:e.staff_designation_name})),Je=e=>{Ee(e.target.value),Ce(x(x({},Pe),{},{email:e.target.value})),xe(x(x({},Oe),{},{email:e.target.value})),ke(x(x({},Te),{},{email:e.target.value}))},ze=e=>{ye(e.target.value),Ce(x(x({},Pe),{},{mobile:e.target.value})),xe(x(x({},Oe),{},{mobile:e.target.value})),Ne(x(x({},Ie),{},{mobile:e.target.value}))},Le=async()=>{M(!1);try{await _.A.post("/sec/hcf/verifyHCFDiagnosticStaffEmail",JSON.stringify(Te),{headers:{Accept:"Application/json"}}),V("Email verified successfully."),F("success"),M(!0),ge(!1)}catch(e){V("Wrong OTP. Please try again."),F("error"),M(!0)}},Ue=async()=>{M(!1);try{await _.A.post("/sec/hcf/verifyHCFDiagnosticStaffMobile",JSON.stringify(Ie),{headers:{Accept:"Application/json"}}),V("Mobile verified successfully."),F("success"),M(!0),ge(!1)}catch(e){V("Wrong OTP. Please try again."),F("error"),M(!0)}};return f.createElement(f.Fragment,null,f.createElement(n.A,{sx:{display:"flex",width:"98%",height:"90%",flexDirection:"row"}},f.createElement(C.A,{type:D,message:R,isOpen:B}),f.createElement("nav",{className:"NavBar-Container-Appoinement"},f.createElement(h.k2,{to:"/hcfadmin/diagnosticcenter/labs"},"Labs"),f.createElement(h.k2,{to:"/hcfadmin/diagnosticcenter/staff"},"Staff"),f.createElement(h.k2,{to:"/hcfadmin/diagnosticcenter/blocked"},"Blocked"),f.createElement(g.A,{buttonCss:{position:"absolute",right:"0",borderRadius:"6.25rem"},isTransaprent:!0,label:"Add Staff",handleClick:()=>k(!0)})),f.createElement(E.A,{conditionOpen:k,isOpen:T,disableBackdropClick:!0,title:f.createElement("h5",{style:{fontWeight:"bold"}},"Create Staff"),footer:f.createElement(f.Fragment,null,f.createElement(g.A,{buttonCss:{borderRadius:"25px",fontFamily:"PoppiveriFyEmailOTPHandlerns",marginTop:"20px"},label:"Create",isDisabled:!me||!pe,handleClick:()=>{(async()=>{M(!1);try{await _.A.post("/sec/hcf/addStaff",JSON.stringify(G),{headers:{Accept:"Application/json"}}),await F("success"),await V("staff Crested Succesfully"),M(!0),setTimeout(()=>k(!1),3e3)}catch(e){alert("Fill the details properly"),await F("error"),await V("some error occured!!!"),M(!0)}})()}})),style:{width:"90%",maxWidth:"1000px",height:"auto"}},f.createElement(n.A,{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"20px"},f.createElement(A.A,{label:"Designation",items:Fe.map(e=>e.name),activeItem:I,handleChange:e=>{var t;const a=null===(t=Fe.find(t=>t.name===e))||void 0===t?void 0:t.id;N(e),K(e=>x(x({},e),{},{staff_designation:String(a)}))},style:{width:"100%"}}),f.createElement(A.A,{label:"Department",items:De.map(e=>e.name),activeItem:j,handleChange:e=>{var t;const a=null===(t=De.find(t=>t.name===e))||void 0===t?void 0:t.id;W(e),K(e=>x(x({},e),{},{lab_department_id:String(a)}))},style:{width:"100%"}}),f.createElement(v.A,{placeholder:"Enter Name",label:"Name",variant:"standard",fullWidth:!0,helperText:"",defaultValue:null==G?void 0:G.first_name,onInput:e=>K(x(x({},G),{},{first_name:e.target.value}))}),f.createElement(v.A,{placeholder:"Enter Email",label:"Email",variant:"standard",defaultValue:null==Te?void 0:Te.email,onChange:Je,onInput:e=>K(x(x({},G),{},{email:e.target.value})),rightIcon:me?f.createElement(w.A,{sx:{color:"green"}}):f.createElement("p",{style:{fontFamily:"Poppins",fontSize:"0.6em",color:"#E72B4A"}},"verify"),onRightIconClick:()=>{ge(!0),(async()=>{M(!1);try{await _.A.post("/sec/hcf/addStaff",JSON.stringify(Pe),{headers:{Accept:"Application/json"}}),V("OTP has been sent to your email."),F("success"),M(!0)}catch(e){V("Please fill in the details properly."),F("error"),M(!0)}})()},fullWidth:!0,helperText:"",type:"email"}),f.createElement(v.A,{placeholder:"Enter Mobile Number",label:"Mobile No",variant:"standard",fullWidth:!0,defaultValue:ve,value:ve,onChange:ze,onInput:e=>K(x(x({},G),{},{mobile:e.target.value})),rightIcon:pe?f.createElement(w.A,{sx:{color:"green"}}):f.createElement("p",{style:{fontFamily:"Poppins",fontSize:"0.6em",color:"#E72B4A"}},"verify"),onRightIconClick:()=>{Ae(!0),(async()=>{M(!1);try{await _.A.post("/sec/hcf/addStaff",JSON.stringify(Oe),{headers:{Accept:"Application/json"}}),V("OTP has been sent to your mobile No."),F("success"),M(!0)}catch(e){V("Please fill in the details properly."),F("error"),M(!0)}})()},helperText:""}),f.createElement(v.A,{placeholder:"Enter Password",label:"Create Password",variant:"standard",fullWidth:!0,type:"password",helperText:"",value:te,onChange:Re,defaultValue:null==G?void 0:G.password,onInput:e=>K(x(x({},G),{},{password:e.target.value}))}),f.createElement(v.A,{placeholder:"Confirm Password",label:"Confirm Password",variant:"standard",type:"password",fullWidth:!0,helperText:re?"Passwords do not match":"",error:re,value:ne,onChange:Ve}))),f.createElement(E.A,{isOpen:he,conditionOpen:ge,title:"Enter Email OTP",disableBackdropClick:!0},f.createElement("div",{id:"otp-box-container"},f.createElement(P.A,{value:null==Te?void 0:Te.activation_code,onChange:e=>{ke(x(x({},Te),{},{activation_code:e}))},numInputs:6,placeholder:"*"}),f.createElement("div",{className:"otpsent"},f.createElement("p",null,"The OTP has been sent to -",be)),f.createElement(g.A,{label:"Verify",handleClick:()=>{Le(),ue(!me)}}))),f.createElement(E.A,{isOpen:_e,conditionOpen:Ae,title:"Enter Mobile OTP",disableBackdropClick:!0},f.createElement("div",{id:"otp-box-container"},f.createElement(P.A,{value:Se,onChange:e=>{Ne(x(x({},Ie),{},{otp_code:e}))},numInputs:6,placeholder:"*"}),f.createElement("div",{className:"otpsent"},f.createElement("p",null,"The OTP has been sent to - ",ve," ")),f.createElement(g.A,{label:"Verify",handleClick:()=>{Ue(),fe(!pe)}}))),f.createElement(E.A,{conditionOpen:X,isOpen:Q,disableBackdropClick:!0,title:f.createElement("h5",{style:{fontWeight:"bold"}},"Edit Staff"),footer:f.createElement(f.Fragment,null,f.createElement(g.A,{buttonCss:{borderRadius:"25px",fontFamily:"PoppiveriFyEmailOTPHandlerns",marginTop:"20px"},label:"Update",handleClick:()=>{(async()=>{M(!1);try{await _.A.post("/sec/hcf/updateStaff",JSON.stringify($),{headers:{Accept:"Application/json"}}),await F("success"),await V("Staff Update Succesfully"),M(!0),setTimeout(()=>X(!1),3e3)}catch(e){alert("Fill the details properly"),await F("error"),await V("some error occured!!!"),M(!0)}})()}})),style:{width:"90%",maxWidth:"1000px",height:"auto"}},f.createElement(n.A,{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"20px"},f.createElement(A.A,{label:"Designation",items:He.map(e=>e.name),activeItem:I,handleChange:e=>{var t;const a=null===(t=He.find(t=>t.name===e))||void 0===t?void 0:t.name;N(e),ee(e=>x(x({},e),{},{hcf_diag_name:String(a)}))},style:{width:"100%"}}),f.createElement(A.A,{label:"Department",items:Me.map(e=>e.name),activeItem:j,handleChange:e=>{var t;const a=null===(t=Me.find(t=>t.name===e))||void 0===t?void 0:t.id;W(e),ee(e=>x(x({},e),{},{lab_department_id:String(a)}))},style:{width:"100%"}}),f.createElement(v.A,{placeholder:"Enter Name",label:"Name",variant:"standard",fullWidth:!0,helperText:"",defaultValue:null==$?void 0:$.first_name,onInput:e=>ee(x(x({},$),{},{first_name:e.target.value}))}),f.createElement(v.A,{placeholder:"Enter Email",label:"Email",variant:"standard",defaultValue:be,value:be,onChange:Je,fullWidth:!0,helperText:"",type:"email"}),f.createElement(v.A,{placeholder:"Enter Mobile Number",label:"Mobile No",variant:"standard",fullWidth:!0,defaultValue:ve,value:ve,onChange:ze,helperText:""}),f.createElement(v.A,{placeholder:"Enter Password",label:"Create Password",variant:"standard",fullWidth:!0,type:"password",helperText:"",value:te,onChange:Re,defaultValue:null==$?void 0:$.password,onInput:e=>ee(x(x({},$),{},{password:e.target.value}))}),f.createElement(v.A,{placeholder:"Confirm Password",label:"Confirm Password",variant:"standard",type:"password",fullWidth:!0,helperText:re?"Passwords do not match":"",error:re,value:ne,onChange:Ve}))),f.createElement(n.A,{component:"div",sx:{position:"relative",top:"4em",width:"100%",height:"100%"}},f.createElement(l.A,{component:r.A,style:{background:"white"}},f.createElement(i.A,{sx:{minWidth:1},"aria-label":"simple table"},f.createElement(o.A,null,f.createElement(s.A,{style:{fontWeight:"bold"}},f.createElement(c.A,null,"Name & Details"),f.createElement(c.A,{align:"right"},"Title"),f.createElement(c.A,{align:"right"},"Department"),f.createElement(c.A,{align:"right"},"Status"),f.createElement(c.A,{align:"right"},"Action"))),f.createElement(d.A,null,a?Array.from(new Array(ce)).map((e,t)=>f.createElement(s.A,{key:t},f.createElement(c.A,{colSpan:5,align:"center"},f.createElement(m.A,{variant:"rectangular",width:"100%",height:40})))):0===Be.length?f.createElement(s.A,null,f.createElement(c.A,{colSpan:5,align:"center"},f.createElement(S.A,{text_one:"No Data Found"}))):Be.map((e,t)=>f.createElement(s.A,{key:e.staff_id||t},f.createElement(c.A,{component:"th",scope:"row"},f.createElement(b,{name:"".concat(e.first_name),staff_id:"".concat(e.staff_id),lab_id:""})),f.createElement(c.A,{align:"right"},f.createElement(u.A,{style:{color:"#939094",fontFamily:"Poppins"}},e.hcf_diag_name)),f.createElement(c.A,{align:"right"},f.createElement(u.A,{style:{color:"#939094",fontFamily:"Poppins"}},e.lab_department_name,"`")),f.createElement(c.A,{align:"right"},f.createElement(g.A,{buttonCss:{borderRadius:"6.25rem"},isDisabled:1!==e.diag_status,label:1===e.diag_status?"Active":"Inactive",isTransaprent:!0})),f.createElement(c.A,{align:"right"},f.createElement(g.A,{buttonCss:{borderRadius:"6.25rem"},label:f.createElement("img",{src:y.A,alt:"Edit"}),isTransaprent:!0,handleClick:()=>(e=>{ee({staff_id:String(e.staff_id),first_name:e.first_name,hcf_id:je,email:e.email,mobile:String(e.mobile),role_id:"4",added_by:"hcf admin",hcf_diag_name:e.hcf_diag_name,dept_exam_id:String(e.dept_exam_id)}),X(!0)})(e)})))))),f.createElement(p.A,{rowsPerPageOptions:[5,10,25],component:"div",count:e.length,rowsPerPage:ce,page:oe,onPageChange:(e,t)=>se(t),onRowsPerPageChange:e=>{de(parseInt(e.target.value,10)),se(0)},labelRowsPerPage:"Rows per page:"})))))}}}]);
//# sourceMappingURL=548.fe511b5e8af44ec24fd9.js.map