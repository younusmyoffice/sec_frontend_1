"use strict";(self.webpackChunksec_frontend=self.webpackChunksec_frontend||[]).push([[887],{3887:(e,t,n)=>{n.r(t),n.d(t,{default:()=>C});var a=n(69067),l=n(32325),i=n(69279),r=n(96540),o=n(40602),c=(n(97320),n(14073)),s=n(844),m=n(53054),d=n(55044),p=n(97190),u=n(73896),v=n(93118),h=n(13795),f=n(29162),E=n(57741),g=n(74518),x=n(10609),A=n(13613),y=n(81217);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){S(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function S(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _=e=>{var t,n,i,o,b,S,_,j,k;let{data:C={},Joinlabel:N,onClickJoinHandler:O,StatusLabel:R,AcceptOrRejectButtonClicked:P,accAndRejClicked:D,isDisabled:I}=e;const F=(0,A.b)(null==C?void 0:C.appointment_date,null==C?void 0:C.appointment_time,null==C?void 0:C.join_status),W=I||!F,[z,B]=r.useState(null),T=Boolean(z),[L,H]=(0,r.useState)(!1),[q,J]=(0,r.useState)(!1),[U,G]=(0,r.useState)([]),[M,Q]=(0,r.useState)(!0);m.Uy.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(m.Uy.version,"/pdf.worker.min.js");const[Y,V]=(0,r.useState)(null),[Z,K]=(0,r.useState)({appointment_id:null==C?void 0:C.appointment_id,patient_id:null==C?void 0:C.patient_id,doctor_id:null==C?void 0:C.doctor_id,reason:"",status:"in_progress",option:"reject"}),[X,$]=(0,r.useState)(!1),[ee,te]=(0,r.useState)(!1),ne=["I have a schedule clash","I am not available at the schedule","I have some other plans","Reason4","Reason5"],[ae,le]=r.useState(ne[0]),[ie,re]=(0,r.useState)(!1);(0,r.useEffect)(()=>{ie&&(async()=>{try{var e;const t=await E.A.post("/sec/Doctor/AppointmentsRequestsReject",Z);alert("Appointment ".concat((null==t||null===(e=t.data)||void 0===e||null===(e=e.response)||void 0===e?void 0:e.status)||"rejected successfully")),P(!D),re(!1)}catch(e){var t;alert("Error: ".concat((null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.error)||e.message||"Failed to reject appointment")),re(!1)}})()},[ie]);const[oe,ce]=(0,r.useState)(!1),se=Array.isArray(U)&&(null===(t=U[0])||void 0===t?void 0:t.report_path),me=Array.isArray(U)&&(null===(n=U[0])||void 0===n?void 0:n.report_name),de=async(e,t)=>{Q(!0);try{var n;const a=await E.A.get("sec/hcf/".concat(e,"/").concat(t,"/ClinicAppointmentPatient")),l=(null==a||null===(n=a.data)||void 0===n?void 0:n.response)||[];G(l)}catch(e){}finally{Q(!1)}};se&&(se.startsWith("http")||"/assets/".concat(se));return r.createElement(r.Fragment,null,r.createElement("div",{className:"Request-main-container"},r.createElement("div",{className:"Request-inner-container"},r.createElement("div",{style:{width:"3.13981rem",height:"4.71831rem"}},r.createElement("div",{className:"RequestimageContainer"},r.createElement(a.A,{className:"image-container",component:"img",sx:{width:"100%",height:"100%"},src:(0,y.fj)(null==C?void 0:C.profile_picture,g),alt:"Profile Image"}))),r.createElement("div",{style:{marginLeft:"2%"}},r.createElement("div",{style:{display:"flex",justifyContent:"flex-start"}},r.createElement(c.A,{sx:{color:"#313033",fontFamily:"Poppins",fontSize:"1.125rem",fontStyle:"normal",fontWeight:"400",lineHeight:"1.75rem"}},null===(null==C?void 0:C.patientBookedName)?null:null==C?void 0:C.patientBookedName)),r.createElement(a.A,{sx:{width:"100%",display:"flex",alignItems:"center",marginTop:"2%",marginBottom:"2%"}},r.createElement(c.A,{sx:{color:"#313033",fontFamily:"Poppins",fontSize:"12px",fontStyle:"normal",fontWeight:"400",lineHeight:"18px",letterSpacing:"0.096px"}},R),r.createElement(f.A,{buttonCss:{marginLeft:"10%",borderRadius:"50px",fontFamily:"Poppins",fontSize:"14px",height:"32px",fontStyle:"normal",fontWeight:"600",lineHeight:"22px"},isTransaprent:!0,label:null==C?void 0:C.status,className:"upcomingButton"})),r.createElement("div",{className:"card-details-container"},r.createElement(c.A,{sx:{color:"#787579",fontFamily:"Poppins",fontSize:"0.75rem",fontStyle:"normal",fontWeight:"400",lineHeight:"1.125rem",letterSpacing:"0.006rem",width:"16rem",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",flex:"1"}},"Schedule | ",null==C?void 0:C.appointment_date.split("T")[0]," | ",(0,A.I)(null==C?void 0:C.appointment_time)," |",(null==C?void 0:C.report_name)||"Attachments"),r.createElement(a.A,{component:"a",onClick:()=>{return e=null==C?void 0:C.patient_id,t=null==C?void 0:C.appointment_id,de(e,t),void J(!0);var e,t},sx:{color:"#E72B4A",fontFamily:"Poppins",fontSize:"0.75rem",fontStyle:"normal",fontWeight:"400",lineHeight:"1.125rem",letterSpacing:"0.006rem",textDecoration:"none",whiteSpace:"nowrap","&:hover":{textDecoration:"underline",cursor:"pointer"}}},"View Report"),r.createElement(v.A,{style:{display:"flex"},isOpen:q,conditionOpen:J,title:r.createElement(a.A,{sx:{border:"1px solid #E6E1E5",borderTop:"1px",borderRight:"1px",borderLeft:"1px",width:"570px",height:"82px",display:"flex",justifyContent:"flex-start",alignItems:"center",paddingLeft:"16px"}},M?r.createElement(l.A,{variant:"text",width:"40%",height:30}):r.createElement("h2",{style:{textAlign:"left",fontFamily:"Poppins",fontSize:"20px",fontStyle:"normal",fontWeight:"500",lineHeight:"30px",width:"100%",height:"30px"}},"Patient Details"))},M?r.createElement(a.A,{sx:{padding:2}},r.createElement(l.A,{variant:"text",width:"30%"}),r.createElement(l.A,{variant:"text",width:"70%"}),r.createElement(l.A,{variant:"text",width:"30%",sx:{mt:2}}),r.createElement(l.A,{variant:"text",width:"70%"}),r.createElement(l.A,{variant:"text",width:"30%",sx:{mt:2}}),r.createElement(l.A,{variant:"text",width:"70%"}),r.createElement(l.A,{variant:"text",width:"40%",sx:{mt:4}}),r.createElement(l.A,{variant:"text",width:"90%"}),r.createElement(l.A,{variant:"text",width:"90%"}),r.createElement(l.A,{variant:"text",width:"40%",sx:{mt:4}}),r.createElement(l.A,{variant:"text",width:"100%",height:200})):r.createElement(r.Fragment,null,r.createElement("div",null,"Patient Details"),r.createElement("div",{className:"textfield-cont"},r.createElement("div",{className:"name-email"},r.createElement(c.A,{sx:{color:"#787579",fontSize:"0.875rem",fontWeight:400}},"Name"),r.createElement(c.A,null,"".concat(null===(i=U[0])||void 0===i?void 0:i.first_name," ").concat(null===(o=U[0])||void 0===o?void 0:o.middle_name," ").concat(null===(b=U[0])||void 0===b?void 0:b.last_name))),r.createElement("div",{className:"name-email"},r.createElement(c.A,{sx:{color:"#787579",fontSize:"0.875rem",fontWeight:400}},"Age"),r.createElement(c.A,null,null===(S=U[0])||void 0===S?void 0:S.age)),r.createElement("div",{className:"name-email"},r.createElement(c.A,{sx:{color:"#787579",fontSize:"0.875rem",fontWeight:400}},"Gender"),r.createElement(c.A,null,null===(_=U[0])||void 0===_?void 0:_.gender))),r.createElement("div",null,r.createElement("div",null,"Attached files"),r.createElement("div",{className:"textfield-cont"},r.createElement("div",{className:"name-email"},r.createElement(c.A,{sx:{color:"#787579",fontSize:"0.875rem",fontWeight:400}},"File name"),r.createElement(c.A,null,null===(j=U[0])||void 0===j?void 0:j.attachments)),r.createElement("div",{className:"name-email"},r.createElement(c.A,{sx:{color:"#E72B4A",cursor:"pointer"},onClick:()=>{ce(!0)}},"view")),r.createElement("div",{className:"name-email"},r.createElement(c.A,{sx:{color:"#E72B4A",display:"flex",alignItems:"center",cursor:"pointer"},onClick:()=>{const e=document.createElement("a");e.target="_blank",e.href=se,e.download=me,e.click()}},r.createElement(x.A,{sx:{marginRight:"5px"}})," Download"))),r.createElement("div",null,"Questions Details"),r.createElement("div",{className:"textfield-cont"},[1,2,3,4,5].map(e=>{var t;return r.createElement("div",{className:"name-email",key:e},r.createElement(c.A,{sx:{color:"#787579",fontSize:"0.875rem",fontWeight:400}},"Question ",e),r.createElement(c.A,null,(null===(t=U[0])||void 0===t?void 0:t["answer_".concat(e)])||"answer"))})),r.createElement(v.A,{isOpen:oe,conditionOpen:ce},r.createElement(a.A,{sx:{width:"870px",border:"1px solid #E6E1E5",height:"80vh",padding:"20px",backgroundColor:"white",overflowY:"scroll"}},r.createElement(c.A,{variant:"h6",sx:{mb:2}},"Report"),r.createElement(m.yo,{file:null===(k=U[0])||void 0===k?void 0:k.report_path,onLoadSuccess:e=>{let{numPages:t}=e;V(t)},loading:r.createElement(c.A,null,"Loading PDF..."),error:r.createElement(c.A,{color:"error"},"Failed to load PDF."),noData:r.createElement(c.A,null,"No PDF file provided.")},Array.from(new Array(Y),(e,t)=>r.createElement(m.YW,{key:"page_".concat(t+1),pageNumber:t+1,width:800}))))))))))),r.createElement("div",{className:"request-button-container"},r.createElement("div",{style:{display:"flex",alignItems:"center",marginRight:"2%"}},r.createElement(f.A,{buttonCss:{display:"flex",width:"9.3125rem",height:"2.5rem",padding:"0.5rem 1rem",justifyContent:"center",alignItems:"center",gap:"0.5rem",flexShrink:"0",borderRadius:"6.25rem",backgroundColor:W?"#f5f5f5":void 0,color:W?"#999":void 0},isDisabled:W,label:F?N:"Not Available",isTransaprent:!1,handleClick:F?O:()=>{}})),r.createElement("div",{style:{display:"flex",alignItems:"center"}},r.createElement(d.A,{sx:{cursor:"pointer",color:"#E6E1E5",border:"1px solid #E6E1E5",borderRadius:"50px"},onClick:e=>{B(e.currentTarget),$(!1),te(!1)}}),r.createElement(p.A,{id:"basic-menu",anchorEl:z,open:T,onClose:()=>{B(null)},MenuListProps:{"aria-labelledby":"basic-button"}},r.createElement(u.A,{onClick:()=>H(!L)},"Reject"),r.createElement(v.A,{isOpen:L,title:"Reject Appointment Request",conditionOpen:H,footer:r.createElement(r.Fragment,null,r.createElement(a.A,{sx:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}}))},r.createElement(a.A,{sx:{textAlign:"center"}},r.createElement(c.A,null,"Are you sure. you want to cancel the appointment")),r.createElement("div",{style:{marginTop:"4%"}},r.createElement(r.Fragment,null,r.createElement(a.A,{sx:{marginTop:"5%",display:"flex",flexWrap:"wrap",flexDirection:"column"}},r.createElement(c.A,{sx:{fontWeight:"600",fontSize:"16px",lineHeight:"24px"}},"Reason For Rejection"),r.createElement(h.A,{label:"",handleChange:e=>{let{target:t}=e;le(t.value),K(w(w({},Z),{},{reason:t.value}))},value:ae,items:ne}),r.createElement(a.A,{sx:{marginTop:"5%",width:"100%"}},r.createElement(c.A,null,"Add Note"),r.createElement(s.A,{style:{width:"100%",padding:"3%"},placeholder:"Reason for rejecting the appointment",multiline:!0,rows:3,maxRows:4})),r.createElement(a.A,{sx:{marginTop:"6%",display:"flex",justifyContent:"center"}},r.createElement(f.A,{handleClick:()=>re(!0),label:"Reject Appoitment"})))))))))))};var j=n(85586),k=n(47767);const C=()=>{(0,r.useEffect)(()=>{localStorage.setItem("activeComponent","appointment"),localStorage.setItem("path","upcoming")},[]);const e=(0,k.Zp)(),[t,n]=(0,r.useState)(!1),[c,s]=(0,r.useState)([]),[m,d]=(0,r.useState)(!0),[p,u]=(0,r.useState)({doctor_id:Number(localStorage.getItem("doctor_suid")),status_booked:"booked"}),[v,h]=(0,r.useState)(1),[f]=(0,r.useState)(5),[g,x]=(0,r.useState)(0);(0,r.useEffect)(()=>{document.getElementById("location-search-container").style.display="none",(async()=>{d(!0);try{var e;const t=await E.A.post("/sec/Doctor/UpcomingAppointmentsDoctor",p);s((null==t||null===(e=t.data)||void 0===e?void 0:e.response)||[])}catch(e){}finally{d(!1)}})()},[t]),(0,r.useEffect)(()=>{const e=setInterval(()=>{x(e=>e+1)},6e4);return()=>clearInterval(e)},[]);function y(e){n(e)}const b=(v-1)*f,w=b+f,S=c.slice(b,w);return r.createElement(r.Fragment,null,r.createElement(a.A,{sx:{display:"flex",width:"95%",height:"100%"}},r.createElement(o.A,null),r.createElement(a.A,{component:"div",sx:{position:"relative",top:"4em",width:"100%",display:"flex",height:"100%"}},r.createElement(a.A,{sx:{width:"100%",height:"100%"}},r.createElement(a.A,{sx:{width:"100%",height:"100%"}},r.createElement(a.A,{sx:{width:"100%",border:"1px solid #E6E1E5",height:"80%",borderRadius:"8px",padding:"2%",marginLeft:"2%"}},m?Array.from({length:3}).map((e,t)=>r.createElement(l.A,{key:t,variant:"rectangular",width:"100%",height:80,sx:{mb:2}})):0===c.length?r.createElement(j.A,{text_one:"No Appointment"}):S.map(n=>{const a=(0,A.b)(null==n?void 0:n.appointment_date,null==n?void 0:n.appointment_time,null==n?void 0:n.join_status),l=!a;return r.createElement(_,{key:n.id,data:n,Joinlabel:a?"Join":"Not Available",StatusLabel:null==n?void 0:n.plan_name,AcceptOrRejectButtonClicked:y,onClickJoinHandler:()=>{a&&("video"===(null==n?void 0:n.plan_name)?e("/videocallingsdk/".concat(null==n?void 0:n.appointment_id)):"message"===(null==n?void 0:n.plan_name)&&e("/doctordashboard/doctorAppointment/chats/".concat(n.first_name+n.middle_name+n.last_name,"/").concat(n.roomid,"/").concat(null==n?void 0:n.appointment_id)))},accAndRejClicked:t,isDisabled:l})})),!m&&c.length>0&&r.createElement(a.A,{sx:{display:"flex",justifyContent:"center",mt:2}},r.createElement(i.A,{count:Math.ceil(c.length/f),page:v,onChange:(e,t)=>{h(t)},color:"primary"})))))))}},97320:(e,t,n)=>{e.exports=n.p+"images/profileImage..png"}}]);
//# sourceMappingURL=887.fe511b5e8af44ec24fd9.js.map