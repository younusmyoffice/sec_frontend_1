"use strict";(self.webpackChunksec_frontend=self.webpackChunksec_frontend||[]).push([[638],{16638:(t,e,i)=>{i.r(e),i.d(e,{default:()=>m});var o=i(96540),n=i(69067),l=i(32325),a=i(47767),s=i(16988),c=i(19047),d=i(48382),r=i(57741),u=i(85586),g=i(58407);const m=()=>{const[t,e]=(0,o.useState)([]),[i,m]=(0,o.useState)(!0),[v,h]=(0,o.useState)(!1),[p,_]=(0,o.useState)(""),[f,w]=(0,o.useState)(!1),b=(0,a.Zp)();(0,o.useEffect)(()=>{localStorage.setItem("activeComponent","listing"),localStorage.setItem("path","doctoractiveListing");localStorage.getItem("editing_listing_id")&&localStorage.removeItem("editing_listing_id")},[]);const A=async()=>{m(!0);try{var t,i;const o=await r.A.get("/sec/doctor/DocListingPlanActive/".concat(localStorage.getItem("doctor_suid")));e(null==o||null===(t=o.data)||void 0===t?void 0:t.DocListingPlanActive),_(null==o||null===(i=o.data)||void 0===i?void 0:i.message),h(!1)}catch(t){h(!1)}finally{m(!1)}};return(0,o.useEffect)(()=>{v&&A()},[v]),(0,o.useEffect)(()=>{A()},[]),o.createElement(o.Fragment,null,o.createElement(g.A,{message:p,isOpen:v,type:"success"}),o.createElement(n.A,{sx:{display:"flex",width:"95%",height:"100%",flexDirection:"column"}},o.createElement(n.A,{sx:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px",flexWrap:"wrap",gap:"16px"}},o.createElement(n.A,null,o.createElement(d.A,null)),o.createElement("div",{className:""},o.createElement(s.A,{label:"Create New",isTransaprent:"True",buttonCss:{width:"170px",borderRadius:"20px"},handleClick:()=>{localStorage.removeItem("editing_listing_id"),b("/doctordashboard/doctorListing/listingdetails")}}))),o.createElement(n.A,{component:"div",sx:{position:"relative",top:"0",width:"100%",display:"flex",height:"100%"}},o.createElement(n.A,{component:"div",sx:{display:"flex",flexDirection:"column",width:"100%",height:"80%"}},i?Array.from({length:3}).map((t,e)=>o.createElement(l.A,{key:e,variant:"rectangular",width:"100%",height:80,sx:{mb:2,borderRadius:"8px"}})):0===t.length?o.createElement(u.A,{text_one:"No Listing found"}):t.map(t=>o.createElement(c.A,{buttonOneLabel:"Delete",key:null==t?void 0:t.doctor_list_id,label:null==t?void 0:t.listing_name,Idtype:"Listing ID",Idnumber:null==t?void 0:t.doctor_list_id,statusLabel:"Active",statusColor:"success",onhandleClickButtonOne:()=>(async t=>{if(w(!1),window.confirm("Are you sure you want to delete this listing? This action cannot be undone."))try{const e=await r.A.post("/sec/doctor/deleteDocListingPlan",{doctor_id:Number(localStorage.getItem("doctor_suid")),doctor_list_id:Number(t)});200!==e.status&&202!==e.status||(h(!0),w(!0))}catch(t){h(!1),w(!1)}})(null==t?void 0:t.doctor_list_id),buttonTwoLabel:"Deactivate",onhandleClickButtonTwo:()=>(async(t,e)=>{if(h(!1),window.confirm("Deactivate this listing? Patients will no longer see it."))try{var i;const o=await r.A.post("/sec/doctor/docListingActiveDeactive",{doctor_id:Number(t),doctor_list_id:Number(e),is_active:0});_(null==o||null===(i=o.data)||void 0===i||null===(i=i.response)||void 0===i?void 0:i.message),h(!0)}catch(t){h(!1)}})(null==t?void 0:t.doctor_id,null==t?void 0:t.doctor_list_id),onEditClick:()=>{return e=null==t?void 0:t.doctor_list_id,localStorage.setItem("editing_listing_id",e),void b("/doctordashboard/doctorListing/listingdetails");var e},showEditButton:!0}))))))}}}]);
//# sourceMappingURL=638.fe511b5e8af44ec24fd9.js.map